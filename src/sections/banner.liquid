<section id="section--{{ section.id }}" data-section-id="{{ section.id }}" data-section-type="banner">
  <div class="container--full">
     <div class="banner--container">
          <div class="carousel-slick relative">
             {% for block in section.blocks %}
                 {%- case block.type -%}
                         {%- when 'image' -%}
                         <div class="relative">
                            {% if block.settings.image == blank %}
                                   {% include 'placeholder' %}
                            {% else %}
                              <img class="banner__full {% if block.settings.image-mobile != blank %} desktop-only {% endif %}" src="{{ block.settings.image | img_url: "master" }}" alt="image">
                               {% if block.settings.image-mobile != blank %}
                                  <img class="banner__full mobile-only" src="{{ block.settings.image-mobile | img_url: "master" }}" alt="image-mobile-natusan" >
                               {% endif %}
                            {% endif %}
                              <div class="banner__text medium {% if block.settings.invert %} text-invert-green {% endif %}">
                                <h3 class="banner__subtitle light">{{ block.settings.subtitle }}</h3>
                                <h2 class="banner__title natusan-h1">{{ block.settings.title }}</h2>
                                <div class="banner__description {% if block.settings.invert %} text-invert-white {% endif %}">{{ block.settings.description }}</div>
                                <a href="{{ block.settings.url }}" class="button__primary {% if block.settings.invert %} text-invert-green {% endif %}">{{ block.settings.link }}</a>
                              </div>
                         </div>
                         {%- when 'video' -%}
                           <div class="relative">
                              <iframe width="100%" height="100%" src="{{ block.settings.video_url }}{%- if section.settings.video-autoplay -%}?autoplay=1& {%- endif -%}{%-unless section.settings.controls-%};controls=0;{%-endunless-%}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                              </iframe>
                                 <div class="banner__text medium {% if block.settings.invert %} text-invert-green {% endif %}">
                                   <h3 class="banner__subtitle light">{{ block.settings.subtitle }}</h3>
                                   <h2 class="banner__title natusan-h1">{{ block.settings.title }}</h2>
                                   <div class="banner__description {% if block.settings.invert %} text-invert-white {% endif %}">{{ block.settings.description }}</div>
                                   <a href="{{ block.settings.url }}" class="button__primary {% if block.settings.invert %} text-invert-green {% endif %}">{{ block.settings.link }}</a>
                                </div>
                           </div>
                         {% else %}
                 {% endcase%}

            {% endfor %}
        </div>
    </div>
</section>
<script type="text/javascript">
            $('.carousel-slick').slick({
              dots: true,
              arrows: false,
              responsive: [{

                      breakpoint: 800,
                      settings: {
                        slidesToShow: 1,
                        dots: false
                      }

                    }]

            });


</script>



{% schema %}
{
  "name": "Banner",
  "settings": [
    {
      "type": "header",
      "content": "Carrousel options"
    },
    {
      "type": "checkbox",
      "id": "display-arrows",
      "label": "display arrows",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "display-dots",
      "label": "display dots",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "autoplay",
      "default": false
    },
    {
      "type": "header",
      "content": "Video options"
    },
    {
      "type": "checkbox",
      "id": "video-autoplay",
      "label": "autoplay",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "controls",
      "label": "show controls",
      "default": false
    }

  ],
  "blocks": [
    {
      "type": "image",
      "name": "Slide image",
      "settings": [
               {
                 "type": "image_picker",
                 "id": "image",
                 "label": "Image"
               },
               {
      					"type": "image_picker",
      					"id": "image-mobile",
      					"label": "Image mobile"
      				},
              {
                "type": "text",
                "id": "subtitle",
                "label": "subtitle",
                "default": "Tell your story here"
              },
               {
                 "type": "text",
                 "id": "title",
                 "label": "title",
                 "default": "Image slide"
               },
               {
                 "type": "richtext",
                 "id": "description",
                 "label": "description",
                 "default": "<p>The description of the slider</p>"
               },
               {
                 "type": "text",
                 "id": "link",
                 "label": "Link",
                 "default": "SHOP NOW"
               },
               {
                 "type": "url",
                 "id": "url",
                 "label": "url"
               },
               {
                 "type": "checkbox",
                 "id": "invert",
                 "label": "Invert colors"
               }
         ]
       },
    {
			"type": "video",
			"name": "Slide video",
			"settings": [
              {
                "type": "text",
                "id": "video_url",
                "label": "video embed url",
                "default": "https://www.youtube.com/embed/_9VUPq3SxOc"
              },
              {
                "type": "text",
                "id": "subtitle",
                "label": "subtitle",
                "default": "Tell your story here"
              },
               {
                 "type": "text",
                 "id": "title",
                 "label": "title",
                 "default": "Image slide"
               },
               {
                 "type": "text",
                 "id": "description",
                 "label": "description",
                 "default": "Your description of the product"
               },
               {
                 "type": "text",
                 "id": "link",
                 "label": "Link",
                 "default": "SHOP NOW"
               },
               {
                 "type": "url",
                 "id": "url",
                 "label": "url"
               },
               {
                 "type": "checkbox",
                 "id": "invert",
                 "label": "Invert colors"
               }
        ]
      }
  ],
  "presets": [
  		{
  			"name": "Banner",
  			"category": "Homepage"
  		}
  	]
}
{% endschema %}
