<section id="section--{{ section.id }}" data-section-id="{{ section.id }}" data-section-type="three-products">
  <div class="{% if section.settings.hide-desktop %} lap-and-up--hide {% endif %}{% if section.settings.hide-mobile %} pocket--hide {% endif %}">
    <div class="container">
      <div class="grid grid--landing">
        {% for block in section.blocks %}
        {% assign product_item = all_products[block.settings.product] %}
          <div class="1/3--lap-and-up  grid__cell {% unless forloop.last %} 1/2--pocket {% endunless %}">
            <div class="product__image-box relative">
                <a href="/products/{{ block.settings.product }}">
                  {% include 'image' with img : block.settings.image , class: 'full-width' %}
                </a>
                <div class="custom__button-primary {% if forloop.last %} custom__button-mobile {% endif %} ">
                    <a><span>{{ product_item.title }}</span>-<span>{{ product_item.price | money_without_trailing_zeros  }}</span></a>
                </div>
            </div>
          </div>
        {% endfor %}
      </div>
      {% if section.settings.link != blank %}
        <div class="custom__button-secondary">
          <a href="{{ section.settings.url }}">{{ section.settings.link }}&#8594;</a>
        </div>
      {% endif %}
    </div>
  </div>
</section>
{% schema %}
{
  "name": "Three products",
  "settings": [
    {
      "type": "checkbox",
      "id": "hide-desktop",
      "label": "hide desktop",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "hide-mobile",
      "label": "hide mobile",
      "default": false
    },
    {
      "type": "text",
      "id": "link",
      "label": "link",
      "default": "DISCOVER THE COLLECTION"
    },
    {
      "type": "url",
      "id": "url",
      "label": "url"
    }
  ],
  "blocks": [
    {
      "type": "product",
      "name": "Product block",
      "settings": [
            {
              "type": "product",
              "id": "product",
              "label": "product",
              "info": "Image opti for 520x260"
            },
            {
              "type": "image_picker",
              "id": "image",
              "label": "image"
            }
      ]
    }
  ]
}
{% endschema %}
